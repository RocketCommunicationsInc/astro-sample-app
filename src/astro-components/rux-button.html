<link rel="import" href="/bower_components/polymer/polymer-element.html">

<dom-module id="rux-button">
	<template>
		<style>
			:host {
					display: inline-block;
					contain: content; /* This improves CSS performance see: https://developers.google.com/web/updates/2016/06/css-containment */
				}

				.rux-button {
					display: inline-block;
					position: relative;
					
					color: var(--button-color);
					font-family: var(--font-family);
					font-size: 0.875rem;
					text-align: center;
					vertical-align: middle;

					min-width: 4rem;
					/* max-width: 15rem; */
					height: 2.25rem; 
					margin: 0;
					padding: 0 0.8rem;
	
					background-color: var(--button-background);

					border-top: var(--button-border-top);
					border-left: var(--button-border-left);
					border-bottom: var(--button-border-bottom);
					border-right: var(--button-border-right);
					
					text-overflow: ellipsis;
					overflow: hidden;
  				white-space: nowrap;
				
					transition: background var(--standard-transition-speed);


					cursor: pointer;
					outline: none;

					-webkit-user-select: none;
     				 -moz-user-select: none;
      				-ms-user-select: none;
									user-select: none;
				}

				
				
				/*
				**
				**
				**
				*/
				.rux-button--icon {
					display: flex;
					flex-direction: column;
					align-items: center;

					border: none;
					background: none;

					height: auto;					
					padding: 0;

					font-size: 0.75rem;

					opacity: 0.2;
					
					transition: opacity var(--standard-transition-speed);
				}


				/* 
				debug for icon. Shows a 50% horizontal line
				.rux-button--icon::after {
					content: '';
					display: block;
					
					position: absolute;
					top: 0;
					left: 50%;
					background-color: #fff;
					height: 100%;
					width: 1px;					
				} */

				.rux-button--icon .rux-icon--button {
					height: 43px;
					width: 43px;
					margin: 0;
					margin-bottom: 0.5em;
				}

				.rux-button--icon:hover {
					opacity: 1;
				}
		

				.rux-button:hover:not([disabled]):not(.rux-button--icon) {
					background-color: var(--button-background--hover)
				}


				.rux-button:active:not([disabled]):not(.rux-button--icon) {
					box-shadow: inset 0 1px 2px 2px rgba(0, 0, 0, 0.5);
  				background-color: var(--button-background);
  				border: 1px solid #0462ab;
				}


				.rux-button:disabled {
					opacity: 0.3;
					cursor: not-allowed;
				}
				
				.rux-button[default] {
					border: 1px solid rgba(255, 255, 255, 0.6);
				}

				.rux-button[hidden] {
					display: none;
				}

				.rux-button--large {
					font-size: 1.125rem;
					height: 3.25rem;
				}

				.rux-button--small {
					font-size: 0.775rem;
  				min-width: 2rem;
					padding: 0.25rem 0.5rem;
					line-height: 1.25;
				}

				.rux-button--narrow {
					min-width: 3.125rem;
  				padding-left: 0.3125rem;
  				padding-right: 0.3125rem;
				}

				.rux-button--compact {
					padding-top: 0.1rem;
					padding-bottom: 0.1rem;
				}

				
				.rux-button--large .rux-icon--button {
					height: 28px;
					width: 28px;					
				}
				.rux-icon--button {
					vertical-align: top;
					margin-right: 0.25rem;
				}

				/*
					disable buttons below a certain size from
					having icons
				*/
				.rux-button--small .rux-icon--button,
				.rux-button--narrow .rux-icon--button,
				.rux-button--compact .rux-icon--button,
				.rux-icon--button[hidden] {
					display: none !important;
				}


				


			</style>

			


			
			<button class$="rux-button rux-button--[[type]]" default$="[[default]]" disabled$="[[disabled]]">
				<rux-icon icon="[[icon]]" class="rux-icon rux-icon--button" hidden="[[hidden]]"></rux-icon>
				<slot></slot>
			</button>
			

			


			
			

	</template>

	<script>
		class RuxButton extends Polymer.Element {
				
				static get is() { return 'rux-button'; }
				static get properties() {
					return {
						type: String,
						icon: String,
						default: Boolean,
						disabled: Boolean,

					}
				}

				constructor() {
        	super();
				}

				ready() {
					super.ready();

					// hide the icon if there is no icon
					this.hidden = !this.icon;
					
					// set type to standard if there is no type
					this.type = this.type ? this.type : 'standard';


				}
		}

		customElements.define(RuxButton.is, RuxButton);
	</script>
</dom-module>