<link rel="import" href="/bower_components/polymer/polymer.html">


<dom-module id="rux-icon">
	<template>
		<style>
			:host {
				display: inline-block;
				line-height: 0;
			}


			

			svg {
				margin: 0;
				padding: 0;
				

				height: var(--advanced-status-icon-height, 44px);
				width: var(--advanced-status-icon-width, 44px);

				fill: var(--default-icon-color, #fff);
			}


			.rux-icon--status {
				height: 12px;
				width: 12px;

				


			}

			
		</style>

		

	</template>

	<script>
		class RuxIcon extends Polymer.Element {
			static get is() { return 'rux-icon'; }
			static get properties() {
				return {
					icon: {
						type: String,
						observer: '_updateIcon'
					},
					size: {
						type: String
					}
				}
			}

			constructor() {
				super();
				this._iconLibraryEvent = this._iconLibraryLoaded.bind(this);
			}

			connectedCallback() {
				super.connectedCallback();
				window.addEventListener('icon-library-added', this._iconLibraryEvent);
			}

			disconnectedCallback() {
				super.disconnectedCallback();
				window.removeEventListener('icon-library-added', this._iconLibraryEvent);
			}

			ready() {
				super.ready();
			}






			//
			_iconLibraryLoaded(e) {
				
			}





			//
			_updateIcon(icon) {
				
				// get the icon library and icon name
				const parts = icon.split(':');
				this._iconName = parts.pop();
				this._iconLibrary = parts.pop();

				//
				window.dispatchEvent(new CustomEvent('set-icon', 
					{ detail : {
						el: this,
						icon: this._iconName,
						library: this._iconLibrary,
						size: this._size
					} }
				));
			}
		}

		customElements.define(RuxIcon.is, RuxIcon);
	</script>

</dom-module>