<link rel="import" href="/bower_components/polymer/polymer-element.html">

<dom-module id="rux-navigation-tab">
	<template>
		<style>
			:host {
					display: inline-block;
					contain: content; /* This improves CSS performance see: https://developers.google.com/web/updates/2016/06/css-containment */


					position: relative;
					height: 100%;
					display: block;
					padding: 1rem 2.5rem;
					margin: 8px 0 0 0;
					font-size: 1.875rem;
					font-weight: 100;
					text-decoration: none;
					color: #5CB3FF;

					background: #23384e;

					border-left: 1px solid rgba(0, 0, 0, 0.5);
					border-right: 1px solid rgba(255, 255, 255, 0.1);

					-moz-user-select: none;
					-khtml-user-select: none;
					-webkit-user-select: none;
					-ms-user-select: none;
					user-select: none;

					cursor: pointer;
				}

				:host::before {
					position: absolute;
					content: '';
					display: block;
					height: 8px;
					width: 100%;
					top: -8px;
					left: 0;
					background: rgba(0, 0, 0, 0.3);
					
					/* border-top: 1px solid #000; */
					/* opacity: 0; */
					

					/* transition: background 0.367s ease-out; */
				}

				:host([selected]) {
					background: red;
				}

				:host[selected]::before {
					background: red;
				}
			</style>

			<slot></slot>
		


			
			

	</template>

	<script>
		class RuxNavigationTab extends Polymer.Element {
				
				static get is() { return 'rux-navigation-tab'; }
				static get properties() {
					return {
						type: String,
						selected: {
							type: Boolean,
							reflectToAttribute: true
						}
					}
				}

				constructor() {
        	super();

					this.addEventListener('click', this._onClick)
				}

				ready() {
					super.ready();
				}


				reset() {
					const tabs = this.querySelectorAll('rux-navigation-tab');
					console.log('tabs',tabs);
					console.log(this);
				}

				_selectTab(tab) {
					// this.reset();

					// // get the tab pane associated with this tab

					// // throw an error if there is no associated panel
					// this.selected = true;

					// fire event
					window.dispatchEvent(new CustomEvent('set-tab', 
						{ detail : 
							{ tab: tab }
						}
					));
				}

				_onClick(e) {
					console.log('click', e.target);
					this._selectTab(e.target);
				}
		}

		customElements.define(RuxNavigationTab.is, RuxNavigationTab);
	</script>
</dom-module>