<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="rux-navigation-tab.html">

<dom-module id="rux-navigation-tabs">
	<template>
		<style>
			:host {
					margin: 0;
					padding: 0;
					display: flex;
					align-self: flex-start;
					contain: content; /* This improves CSS performance see: https://developers.google.com/web/updates/2016/06/css-containment */
				}

			
				

			</style>

			
			<slot></slot>

	</template>

	<script>
		class RuxNavigationTabs extends Polymer.Element {
				
				static get is() { return 'rux-navigation-tabs'; }
				static get properties() {
					return {
						type: String,
					}
				}

				constructor() {
        	super();

					this._updateTabListener = this._setTab.bind(this);
				}


				connectedCallback() {
						super.connectedCallback();
						window.addEventListener('set-tab', this._updateTabListener);
				}


				disconnectedCallback() {
					super.disconnectedCallback();
					window.removeEventListener('set-tab', this._updateTabListener);
				}

				ready() {
					super.ready();
				}


				_setTab(tab) {
					console.log(tab.detail);
					console.log(this);

					let _tab = tab.detail.tab;
					let _tabs = this.querySelectorAll('rux-navigation-tab');
					
					console.log('_tab',_tab);
					console.log('_tabs',_tabs);
					_tabs.forEach(function(tab) {
						tab.selected = false;
					})
					_tab.selected = true;
					
				}
		}

		customElements.define(RuxNavigationTabs.is, RuxNavigationTabs);
	</script>
</dom-module>