<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="../astro-components/rux-icons-svg.html">

<script>
	class RuxStatus extends Polymer.Element {
		static get is() { return 'rux-status'; }
		static get properties() {
			return {
				status: {
					type: String
				},
				label: {
					type: String
				},
				sublabel: {
					type: String
				},
				notifications: {
					type: String
				},
				icon: {
					type: String
				},
				advanced: {
					type: Boolean,
					default: false

				}
			}
		}

		static get template() {
			return Polymer.html`
				<link rel="stylesheet" href="src/astro-components/rux-status.css">

				<!-- Use Advanced Status Template is any property is set //-->
				<div class="rux-advanced-status rux-status--[[status]]" title="[[notifications]] [[label]] [[sublabel]]" aria-labelledby="rux-advanced-status-aria-label" hidden=[[!advanced]]>
					
					<rux-icon icon="status:{{status}}" class$="rux-advanced-status__status-icon rux-icon--status [[status]]"></rux-icon>
					
					<div class="rux-advanced-status__icon">
						<rux-icon icon="[[icon]]" class$="rux-status--[[status]]"></rux-icon>
						<div class="rux-advanced-status__badge">[[notifications]]</div>
					</div>
					
					<div id="rux-advanced-status-aria-label" class="rux-advanced-status__label">[[label]]<span class="rux-advanced-status__label__sub-label">[[sublabel]]</span></div>
				</div>

				<!-- Use simple status if no other properties are set //-->
				<rux-icon icon="status:[[status]]" class="rux-icon--status" hidden=[[advanced]]></rux-icon>	
			`;
		}

		constructor() {
			super();
		}

		connectedCallback() {
			super.connectedCallback();
		}

		disconnectedCallback() {
			super.disconnectedCallback();
			
		}

		ready() {
			super.ready();

			this.advanced = true;
			if(!this.label) {
				this.advanced = false;
			}
		}		
	}

	customElements.define(RuxStatus.is, RuxStatus);
</script>
