<link rel="import" href="/bower_components/polymer/polymer.html">


<dom-module id="rux-status">
	<template>
		<style>
			:host {
				display: inline-block;
				
				
				

				outline: 1px solid green;
			}

			
			*,
			*:before,
			*:after {
				box-sizing: border-box;
			}	

			.rux-advanced-status {
				position: relative;

				display: flex;
				flex-direction: column;
				align-items: center;
			}

		
			.rux-advanced-status__icon {
				position: relative;
				display: flex;
				justify-content: center;
			}

			.rux-advanced-status__status-icon {
				position: absolute;
				height: 16px;
				width: 16px;
				outline: 1px solid red;
			}




		.rux-advanced-status__label:not(:empty) {
				font-family: 'Open Sans Condensed', sans-serif;
				text-align: center;
				color: #fff;
				font-size: 0.875rem; 
				line-height: 1.2;
				margin-top: 0.25em;
			}

			.rux-advanced-status__label__sub-label:not(:empty) {
				font-family: open_sansregular;
				font-size: 0.65em;
				color: rgba(255,255,255,.6);
				display: block;
			}

			.rux-advanced-status__badge:not(:empty) {
				position: absolute;

				bottom: -0.3125rem;
				right: -0.625rem;

				border: 1px solid rgba(255, 255, 255, 0.6);
				border-radius: 3px;

				padding: 0.1rem 0.25rem;
				font-size: 0.9rem;

				text-align: center;
				color: #fff;
				background-color: #000;	
			}


			.rux-status--emergency rux-icon {
				fill: var(--status-emergency);
			}

			.rux-status--error rux-icon {
				fill: var(--status-emergency);
			}

			
		</style>


		<div class="rux-status">

			
			<template is="dom-if" if="[[advanced]]">
				
				<!-- Use Advanced Status Template is any property is set //-->
				<div class="rux-advanced-status rux-status--{{status}}">
					<rux-icon icon="status:{{status}}" class="rux-icon--status rux-advanced-status__status-icon"></rux-icon>
					<div class="rux-advanced-status__icon">
							<rux-icon icon="advanced-status:thermal"></rux-icon>
							<div class="rux-advanced-status__badge">[[notifications]]</div>
						</div>
					<div class="rux-advanced-status__label">[[label]]<span class="rux-advanced-status__label__sub-label">[[sublabel]]</span></div>
				</div>
			</template>

			<!-- Use Standard Status Template is any property is set //-->
			<template is="dom-if" if="[[!advanced]]">
				<rux-icon icon="status:{{status}}" class="rux-icon--status rux-status--[[status]]"></rux-icon>
			</template>
			
		</div>


	</template>

	<script>
		class RuxStatus extends Polymer.Element {
			static get is() { return 'rux-status'; }
			static get properties() {
				return {
					status: {
						type: String
					},
					label: {
						type: String
					},
					sublabel: {
						type: String
					},
					notifications: {
						type: String
					},
					icon: {
						type: String
					}

				}
			}

			constructor() {
				super();

				console.log('rux-status is',this)
				
				
				
			}

			connectedCallback() {
				super.connectedCallback();
				
			}

			disconnectedCallback() {
				super.disconnectedCallback();
				
			}

			ready() {
				super.ready();

				this.advanced = true;
				if(!this.label) {
					this.advanced = false;
				}
			}


			
		}

		customElements.define(RuxStatus.is, RuxStatus);
	</script>

</dom-module>